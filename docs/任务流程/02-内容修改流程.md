# å†…å®¹ä¿®æ”¹æµç¨‹

æœ¬æ–‡æ¡£è¯¦ç»†æè¿°ç¬”è®°æœ¬å†…å®¹ä¿®æ”¹çš„å®Œæ•´æµç¨‹ï¼ŒåŒ…æ‹¬ä¿®æ”¹ã€æ·»åŠ ã€åˆ é™¤æ“ä½œï¼Œä»¥åŠæ‰¹é‡ä¿®å¤åœºæ™¯ã€‚

## ğŸ“‹ æµç¨‹æ¦‚è§ˆ

å†…å®¹ä¿®æ”¹æ¶‰åŠä»¥ä¸‹ç»„ä»¶ï¼š
- **NotebookAgent**ï¼šç®¡ç†ç¬”è®°æœ¬å†…å®¹
- **Function Tools**ï¼šç›´æ¥æ“ä½œå†…å®¹çš„å·¥å…·
- **Modify Agents**ï¼šç”Ÿæˆæ–°å†…å®¹çš„ä¸“ä¸šåŒ– Agent
- **ContentEvaluationAgent**ï¼šè¯„ä¼°å†…å®¹è´¨é‡ï¼Œè¯†åˆ«é—®é¢˜

## ğŸ¯ åœºæ™¯ä¸€ï¼šé€šè¿‡ ID ç›´æ¥ä¿®æ”¹å†…å®¹

### è§¦å‘æ–¹å¼ï¼š**By Tool**

### è¯¦ç»†æµç¨‹

```
ç”¨æˆ·è¯·æ±‚ä¿®æ”¹å†…å®¹
    â†“
MasterAgent æ¥æ”¶è¯·æ±‚
    â†“
é€šè¿‡ send_message è½¬å‘ç»™ NotebookAgent (By Agent)
    â†“
NotebookAgent åˆ†æè¯·æ±‚ï¼Œè¯†åˆ«éœ€è¦ä¿®æ”¹çš„å†…å®¹ ID
    â†“
è°ƒç”¨ modify_by_id (Function Tool)
    â†“
æ‰§è¡Œä¿®æ”¹æ“ä½œï¼ˆupdate/create/deleteï¼‰
    â†“
è‡ªåŠ¨é‡æ–°ç”Ÿæˆ notes å¹¶åŒæ­¥ outline
    â†“
ä¿å­˜åˆ°æ•°æ®åº“
```

### å…³é”®å·¥å…·

#### 1. `modify_by_id` (Function Tool)
- **ä½ç½®**ï¼š`backend/tools/function_tools/notebook_content_tools.py`
- **è§¦å‘è€…**ï¼šNotebookAgent
- **åŠŸèƒ½**ï¼šé€šè¿‡ ID ç²¾ç¡®ä¿®æ”¹ç¬”è®°çš„ç‰¹å®šéƒ¨åˆ†
- **æ”¯æŒæ“ä½œ**ï¼š
  - `create`ï¼šæ–°å¢å†…å®¹
  - `update`ï¼šä¿®æ”¹ç°æœ‰å†…å®¹
  - `delete`ï¼šåˆ é™¤å†…å®¹

**å‚æ•°è¯´æ˜**ï¼š
- `content_id`ï¼šå†…å®¹ IDï¼ˆupdate/delete æ—¶å¿…éœ€ï¼‰
- `operation_type`ï¼šæ“ä½œç±»å‹ï¼ˆcreate/update/deleteï¼‰
- `field_name`ï¼šå­—æ®µåï¼ˆupdate æ—¶å¿…éœ€ï¼Œå¦‚ 'introduction', 'answer'ï¼‰
- `content_type`ï¼šå†…å®¹ç±»å‹ï¼ˆcreate æ—¶å¿…éœ€ï¼Œå¦‚ 'concept_block', 'example'ï¼‰
- `parent_id`ï¼šçˆ¶çº§ IDï¼ˆcreate æ—¶å¿…éœ€ï¼‰
- `new_content`ï¼šæ–°å†…å®¹ï¼ˆcreate å’Œ update æ—¶å¿…éœ€ï¼‰
- `update_mode`ï¼šæ›´æ–°æ¨¡å¼ï¼ˆappend/prepend/replaceï¼‰

#### 2. `get_content_by_id` (Function Tool)
- **ä½ç½®**ï¼š`backend/tools/function_tools/notebook_content_tools.py`
- **è§¦å‘è€…**ï¼šNotebookAgent
- **åŠŸèƒ½**ï¼šé€šè¿‡ ID è·å–å†…å®¹ä¿¡æ¯ï¼Œç”¨äºæŸ¥çœ‹å½“å‰çŠ¶æ€

### ä»£ç ç¤ºä¾‹

```python
# NotebookAgent ä½¿ç”¨ modify_by_id
@function_tool
def modify_by_id(
    content_id: str,
    operation_type: str,
    field_name: str = None,
    new_content: str = None,
    ...
) -> str:
    # 1. å®šä½å†…å®¹
    result = locate_by_id(notebook_agent, content_id)
    
    # 2. æ‰§è¡Œæ“ä½œ
    if operation_type == "update":
        # æ›´æ–°å­—æ®µ
    elif operation_type == "create":
        # åˆ›å»ºæ–°å†…å®¹
    elif operation_type == "delete":
        # åˆ é™¤å†…å®¹
    
    # 3. é‡æ–°ç”Ÿæˆ notes
    # 4. åŒæ­¥ outline
    # 5. ä¿å­˜åˆ°æ•°æ®åº“
```

## ğŸ¯ åœºæ™¯äºŒï¼šä½¿ç”¨ Modify Agent ç”Ÿæˆæ–°å†…å®¹

### è§¦å‘æ–¹å¼ï¼š**By Tool** â†’ **Agent as Tool** â†’ **By Tool**

### è¯¦ç»†æµç¨‹

```
ç”¨æˆ·è¯·æ±‚ä¿®æ”¹å†…å®¹ï¼ˆè‡ªç„¶è¯­è¨€æè¿°ï¼‰
    â†“
NotebookAgent æ¥æ”¶è¯·æ±‚
    â†“
åˆ†æè¯·æ±‚ï¼Œè¯†åˆ«ä¿®æ”¹ç±»å‹
    â†“
è°ƒç”¨å¯¹åº”çš„ Modify Agent (Agent as Tool)
    â†“
Modify Agent ç”Ÿæˆæ–°å†…å®¹
    â†“
NotebookAgent ä½¿ç”¨ modify_by_id æ‰§è¡Œä¿®æ”¹ (Function Tool)
    â†“
è‡ªåŠ¨é‡æ–°ç”Ÿæˆ notes å¹¶åŒæ­¥ outline
```

### å¯ç”¨çš„ Modify Agents

#### 1. `DefinitionModifyAgent` (Agent as Tool)
- **ä½ç½®**ï¼š`backend/tools/agent_as_tools/modify_agents/definition.py`
- **åŠŸèƒ½**ï¼šä¿®æ”¹æ¦‚å¿µå®šä¹‰ï¼ˆdefinitionï¼‰
- **ä½¿ç”¨åœºæ™¯**ï¼šç”¨æˆ·è¦æ±‚ä¿®æ”¹æˆ–æ”¹è¿›å®šä¹‰

#### 2. `IntroductionModifyAgent` (Agent as Tool)
- **ä½ç½®**ï¼š`backend/tools/agent_as_tools/modify_agents/introduction.py`
- **åŠŸèƒ½**ï¼šä¿®æ”¹ç« èŠ‚ä»‹ç»ï¼ˆintroductionï¼‰
- **ä½¿ç”¨åœºæ™¯**ï¼šç”¨æˆ·è¦æ±‚ä¿®æ”¹ç« èŠ‚å¼€å¤´ä»‹ç»

#### 3. `SummaryModifyAgent` (Agent as Tool)
- **ä½ç½®**ï¼š`backend/tools/agent_as_tools/modify_agents/summary.py`
- **åŠŸèƒ½**ï¼šä¿®æ”¹ç« èŠ‚æ€»ç»“ï¼ˆsummaryï¼‰
- **ä½¿ç”¨åœºæ™¯**ï¼šç”¨æˆ·è¦æ±‚ä¿®æ”¹ç« èŠ‚ç»“å°¾æ€»ç»“

#### 4. `ExerciseModifyAgent` (Agent as Tool)
- **ä½ç½®**ï¼š`backend/tools/agent_as_tools/modify_agents/exercise.py`
- **åŠŸèƒ½**ï¼šä¿®æ”¹ç»ƒä¹ é¢˜å’Œä¾‹å­
- **ä½¿ç”¨åœºæ™¯**ï¼šç”¨æˆ·è¦æ±‚ä¿®æ”¹ã€æ·»åŠ æˆ–åˆ é™¤ç»ƒä¹ é¢˜

#### 5. `ProofModifyAgent` (Agent as Tool)
- **ä½ç½®**ï¼š`backend/tools/agent_as_tools/modify_agents/proof.py`
- **åŠŸèƒ½**ï¼šä¿®æ”¹è¯æ˜å†…å®¹
- **ä½¿ç”¨åœºæ™¯**ï¼šç”¨æˆ·è¦æ±‚ä¿®æ”¹æˆ–å®Œå–„è¯æ˜

### ä»£ç ç¤ºä¾‹

```python
# NotebookAgent ä½¿ç”¨ Modify Agent
# 1. è·å–å½“å‰å†…å®¹
current_content = get_content_by_id(content_id)

# 2. è°ƒç”¨ Modify Agent
from backend.tools.tool_registry import get_tool_registry
registry = get_tool_registry()

# åˆ›å»º Modify Agent å·¥å…·
modify_agent = registry.create_tool(
    "definition_modify_agent",
    agent=notebook_agent,
    current_content=current_content,
    user_request=user_request
)

# 3. è¿è¡Œ Agent ç”Ÿæˆæ–°å†…å®¹
new_content = await Runner.run(
    modify_agent._agent_instance,
    f"è¯·æ ¹æ®ä»¥ä¸‹è¦æ±‚ä¿®æ”¹å®šä¹‰ï¼š{user_request}"
)

# 4. ä½¿ç”¨ modify_by_id æ‰§è¡Œä¿®æ”¹
modify_by_id(
    content_id=content_id,
    operation_type="update",
    field_name="definition",
    new_content=new_content.final_output
)
```

## ğŸ¯ åœºæ™¯ä¸‰ï¼šæ‰¹é‡ä¿®å¤å†…å®¹é—®é¢˜ï¼ˆè¯„ä¼°åä¿®å¤ï¼‰

### è§¦å‘æ–¹å¼ï¼š**By Agent** â†’ **Agent as Tool** â†’ **By Tool** (å¹¶è¡Œ)

### è¯¦ç»†æµç¨‹

```
NotebookAgent åˆ›å»ºå®Œæˆ
    â†“
ContentEvaluationAgent è¯„ä¼°å†…å®¹ (Agent as Tool)
    â†“
è¿”å›é—®é¢˜åˆ—è¡¨ï¼š
{
  "section_1": {
    "exercise_1": "ç¼ºå°‘é€‰é¡¹ï¼Œéœ€è¦è¡¥å……4ä¸ªé€‰é¡¹",
    "proof_1": "æ­¥éª¤ä¸å®Œæ•´ï¼Œç¼ºå°‘ä¸­é—´è®¡ç®—è¿‡ç¨‹"
  }
}
    â†“
å‘é€è¯„ä¼°ç»“æœç»™ NotebookAgent (send_message)
    â†“
NotebookAgent æ¥æ”¶æ¶ˆæ¯ï¼Œè¯†åˆ«ä¸ºè¯„ä¼°ç»“æœ
    â†“
è°ƒç”¨ fix_content_issues (Function Tool)
    â†“
å¹¶è¡Œä¿®å¤æ‰€æœ‰é—®é¢˜ï¼š
  - å¯¹æ¯ä¸ªé—®é¢˜ï¼šè°ƒç”¨ ModifyAgent ç”Ÿæˆæ–°å†…å®¹
  - å¹¶è¡Œè°ƒç”¨ modify_by_id æ‰§è¡Œä¿®å¤
    â†“
æ‰€æœ‰é—®é¢˜ä¿®å¤å®Œæˆ
```

### å…³é”®ç»„ä»¶

#### 1. `ContentEvaluationAgent` (Agent as Tool)
- **ä½ç½®**ï¼š`backend/tools/agent_as_tools/evaluation_agents/ContentEvaluationAgent.py`
- **åŠŸèƒ½**ï¼šè¯„ä¼°å†…å®¹è´¨é‡ï¼Œè¯†åˆ«å…·ä½“é—®é¢˜
- **è¾“å‡º**ï¼šé—®é¢˜åˆ—è¡¨ï¼ˆJSON æ ¼å¼ï¼‰

#### 2. `fix_content_issues` (Function Tool)
- **ä½ç½®**ï¼š`backend/tools/function_tools/notebook_content_tools.py`
- **è§¦å‘è€…**ï¼šNotebookAgent
- **åŠŸèƒ½**ï¼šæ ¹æ®è¯„ä¼°ç»“æœæ‰¹é‡ä¿®å¤å†…å®¹é—®é¢˜
- **å‚æ•°**ï¼š
  - `issues`ï¼šè¯„ä¼°ç»“æœï¼ˆJSON å­—ç¬¦ä¸²æ ¼å¼ï¼‰

**å·¥ä½œæµç¨‹**ï¼š
1. è§£æé—®é¢˜åˆ—è¡¨
2. å¯¹æ¯ä¸ªé—®é¢˜ï¼š
   - è·å–å½“å‰å†…å®¹ï¼ˆ`get_content_by_id`ï¼‰
   - æ ¹æ®é—®é¢˜ç±»å‹é€‰æ‹© ModifyAgent
   - è°ƒç”¨ ModifyAgent ç”Ÿæˆä¿®å¤åçš„å†…å®¹
   - è°ƒç”¨ `modify_by_id` æ‰§è¡Œä¿®å¤
3. å¹¶è¡Œå¤„ç†æ‰€æœ‰é—®é¢˜
4. è¿”å›ä¿®å¤ç»“æœ

### ä»£ç ç¤ºä¾‹

```python
# NotebookAgent ä½¿ç”¨ fix_content_issues
@function_tool
def fix_content_issues(issues: str) -> str:
    """æ ¹æ®è¯„ä¼°ç»“æœä¿®å¤å†…å®¹é—®é¢˜"""
    import json
    import asyncio
    
    # 1. è§£æé—®é¢˜åˆ—è¡¨
    issues_dict = json.loads(issues)
    
    # 2. å¹¶è¡Œä¿®å¤é—®é¢˜
    tasks = []
    for section_title, section_issues in issues_dict.items():
        for field_id, problem_description in section_issues.items():
            # è·å–å½“å‰å†…å®¹
            current_content = get_content_by_id(field_id)
            
            # æ ¹æ®é—®é¢˜ç±»å‹é€‰æ‹© ModifyAgent
            if "exercise" in field_id or "example" in field_id:
                modify_agent = ExerciseModifyAgent()
            elif "proof" in field_id:
                modify_agent = ProofModifyAgent()
            elif "definition" in field_id:
                modify_agent = DefinitionModifyAgent()
            else:
                continue
            
            # ç”Ÿæˆä¿®å¤åçš„å†…å®¹
            task = asyncio.create_task(
                fix_single_issue(
                    modify_agent,
                    current_content,
                    problem_description,
                    field_id
                )
            )
            tasks.append(task)
    
    # 3. ç­‰å¾…æ‰€æœ‰ä¿®å¤å®Œæˆ
    results = await asyncio.gather(*tasks)
    
    return f"å·²ä¿®å¤ {len(results)} ä¸ªé—®é¢˜"

async def fix_single_issue(modify_agent, current_content, problem_description, field_id):
    """ä¿®å¤å•ä¸ªé—®é¢˜"""
    # 1. è°ƒç”¨ ModifyAgent ç”Ÿæˆä¿®å¤åçš„å†…å®¹
    new_content = await Runner.run(
        modify_agent,
        f"å½“å‰å†…å®¹ï¼š{current_content}\né—®é¢˜ï¼š{problem_description}\nè¯·ä¿®å¤è¿™ä¸ªé—®é¢˜"
    )
    
    # 2. ä½¿ç”¨ modify_by_id æ‰§è¡Œä¿®å¤
    modify_by_id(
        content_id=field_id,
        operation_type="update",
        field_name=...,  # æ ¹æ®å†…å®¹ç±»å‹ç¡®å®š
        new_content=new_content.final_output
    )
```

## ğŸ¯ åœºæ™¯å››ï¼šä½¿ç”¨ NotebookModifyAgentï¼ˆç»Ÿä¸€ä¿®æ”¹æ¥å£ï¼‰

### è§¦å‘æ–¹å¼ï¼š**By Agent** â†’ **Agent as Tool** â†’ **By Tool**

### è¯¦ç»†æµç¨‹

```
ç”¨æˆ·è¯·æ±‚ä¿®æ”¹å†…å®¹
    â†“
MasterAgent æ¥æ”¶è¯·æ±‚
    â†“
åˆ›å»ºæˆ–ä½¿ç”¨ NotebookModifyAgent (By Agent)
    â†“
NotebookModifyAgent åˆ†æè¯·æ±‚
    â†“
æ ¹æ®ä¿®æ”¹ç±»å‹è°ƒç”¨å¯¹åº”çš„ Modify Agent (Agent as Tool)
    â†“
è·å–æ–°å†…å®¹åï¼Œä½¿ç”¨ modify_by_id æ‰§è¡Œä¿®æ”¹ (Function Tool)
    â†“
è¿”å›ä¿®æ”¹ç»“æœ
```

### NotebookModifyAgent

- **ä½ç½®**ï¼š`backend/agent/specialized/NotebookModifyAgent.py`
- **åŠŸèƒ½**ï¼šç»Ÿä¸€çš„ä¿®æ”¹æ¥å£ï¼Œè‡ªåŠ¨é€‰æ‹©åˆé€‚çš„ Modify Agent
- **å·¥å…·**ï¼š
  - `modify_introduction`ï¼šä¿®æ”¹ä»‹ç»
  - `modify_exercise`ï¼šä¿®æ”¹ç»ƒä¹ é¢˜
  - `modify_definition`ï¼šä¿®æ”¹å®šä¹‰
  - `modify_summary`ï¼šä¿®æ”¹æ€»ç»“
  - `get_content_by_id`ï¼šè·å–å†…å®¹
  - `modify_by_id`ï¼šæ‰§è¡Œä¿®æ”¹

## ğŸ“Š å®Œæ•´æµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç”¨æˆ·è¯·æ±‚       â”‚
â”‚ (ä¿®æ”¹å†…å®¹)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                 â”‚
         â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç›´æ¥ä¿®æ”¹         â”‚  â”‚ è¯„ä¼°åæ‰¹é‡ä¿®å¤   â”‚
â”‚                 â”‚  â”‚                 â”‚
â”‚ MasterAgent     â”‚  â”‚ ContentEvaluationâ”‚
â”‚ â†’ NotebookAgent â”‚  â”‚ Agent            â”‚
â”‚ â†’ modify_by_id  â”‚  â”‚ â†’ é—®é¢˜åˆ—è¡¨       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚ NotebookAgent   â”‚
                     â”‚                 â”‚
                     â”‚ fix_content_    â”‚
                     â”‚ issues          â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚                 â”‚
                              â–¼                 â–¼
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚ ModifyAgent     â”‚  â”‚ ModifyAgent     â”‚
                     â”‚ (ç”Ÿæˆæ–°å†…å®¹)     â”‚  â”‚ (ç”Ÿæˆæ–°å†…å®¹)     â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚                    â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                                       â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚ modify_by_id     â”‚
                              â”‚ (å¹¶è¡Œæ‰§è¡Œä¿®æ”¹)   â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”‘ å…³é”®è¦ç‚¹

1. **ID ç³»ç»Ÿ**ï¼šæ‰€æœ‰å†…å®¹éƒ½æœ‰å”¯ä¸€ IDï¼Œæ ¼å¼å¦‚ `field_abc123`ã€`section_def456`
2. **ä¸‰ç§æ“ä½œç±»å‹**ï¼šcreateï¼ˆæ–°å¢ï¼‰ã€updateï¼ˆä¿®æ”¹ï¼‰ã€deleteï¼ˆåˆ é™¤ï¼‰
3. **Modify Agent ç”¨äºç”Ÿæˆ**ï¼šå½“éœ€è¦ AI ç”Ÿæˆæ–°å†…å®¹æ—¶ä½¿ç”¨
4. **modify_by_id ç”¨äºæ‰§è¡Œ**ï¼šæ‰€æœ‰ä¿®æ”¹æœ€ç»ˆéƒ½é€šè¿‡ `modify_by_id` æ‰§è¡Œ
5. **è‡ªåŠ¨åŒæ­¥**ï¼šä¿®æ”¹åè‡ªåŠ¨é‡æ–°ç”Ÿæˆ notes å¹¶åŒæ­¥ outline
6. **æ‰¹é‡ä¿®å¤**ï¼šé€šè¿‡ `fix_content_issues` å¯ä»¥å¹¶è¡Œä¿®å¤å¤šä¸ªé—®é¢˜
7. **è¯„ä¼°ä¸ä¿®æ”¹åˆ†ç¦»**ï¼šè¯„ä¼°åªè¯†åˆ«é—®é¢˜ï¼Œä¿®æ”¹ç”± NotebookAgent ç»Ÿä¸€å¤„ç†

## ğŸ› å¸¸è§é—®é¢˜

### Q: å¦‚ä½•æ‰¾åˆ°å†…å®¹çš„ IDï¼Ÿ
A: åœ¨ notes çš„ markdown ä¸­ï¼Œæ¯ä¸ªå†…å®¹éƒ½æœ‰ HTML æ³¨é‡Šæ ‡è®°ï¼Œæ ¼å¼ä¸º `<!-- id: field_abc123 -->`

### Q: ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ Modify Agentï¼Œä»€ä¹ˆæ—¶å€™ç›´æ¥ä½¿ç”¨ modify_by_idï¼Ÿ
A: 
- **ç›´æ¥ä½¿ç”¨ modify_by_id**ï¼šå½“æ–°å†…å®¹å·²ç»æ˜ç¡®ï¼ˆç”¨æˆ·ç›´æ¥æä¾›æ–°å†…å®¹ï¼‰
- **ä½¿ç”¨ Modify Agent**ï¼šå½“éœ€è¦ AI æ ¹æ®è¦æ±‚ç”Ÿæˆæ–°å†…å®¹

### Q: æ‰¹é‡ä¿®å¤æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ
A: 
1. `ContentEvaluationAgent` è¯„ä¼°å†…å®¹ï¼Œè¿”å›é—®é¢˜åˆ—è¡¨
2. `NotebookAgent` æ¥æ”¶é—®é¢˜åˆ—è¡¨ï¼Œè°ƒç”¨ `fix_content_issues`
3. `fix_content_issues` å¹¶è¡Œå¤„ç†æ‰€æœ‰é—®é¢˜ï¼Œæ¯ä¸ªé—®é¢˜ï¼š
   - è°ƒç”¨ ModifyAgent ç”Ÿæˆä¿®å¤åçš„å†…å®¹
   - è°ƒç”¨ `modify_by_id` æ‰§è¡Œä¿®å¤

### Q: å¦‚ä½•æ·»åŠ æ–°çš„ Modify Agentï¼Ÿ
A: 
1. åœ¨ `backend/tools/agent_as_tools/modify_agents/` ä¸­åˆ›å»ºæ–°çš„ Agent ç±»
2. ç»§æ‰¿ `BaseModifyAgent`
3. å®ç° `get_modifier_type()` å’Œ `get_modification_target()` æ–¹æ³•
4. åœ¨éœ€è¦çš„åœ°æ–¹æ³¨å†Œä¸º Agent as Tool

### Q: æ‰¹é‡ä¿®å¤å¤±è´¥æ€ä¹ˆåŠï¼Ÿ
A: ä¿®å¤å¤±è´¥æ—¶ä¼šè®°å½•é”™è¯¯ï¼Œä½†ä¸ä¼šä¸­æ–­å…¶ä»–é—®é¢˜çš„ä¿®å¤ã€‚å¯ä»¥æŸ¥çœ‹æ—¥å¿—äº†è§£å…·ä½“å¤±è´¥åŸå› ï¼Œç„¶åæ‰‹åŠ¨ä¿®å¤ã€‚
