# ç¬”è®°æœ¬åˆ›å»ºæµç¨‹

æœ¬æ–‡æ¡£è¯¦ç»†æè¿°ç¬”è®°æœ¬åˆ›å»ºçš„å®Œæ•´æµç¨‹ï¼ŒåŒ…æ‹¬ä»æ–‡ä»¶åˆ›å»ºå’Œä»ä¸»é¢˜åˆ›å»ºä¸¤ç§åœºæ™¯ã€‚

## ğŸ“‹ æµç¨‹æ¦‚è§ˆ

ç¬”è®°æœ¬åˆ›å»ºé‡‡ç”¨ç»Ÿä¸€çš„æµç¨‹ï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªé˜¶æ®µï¼š

1. **å¤§çº²ç”Ÿæˆ**ï¼šç”Ÿæˆç¬”è®°æœ¬å¤§çº²ä¾›ç”¨æˆ·ç¡®è®¤
2. **ç”¨æˆ·ç¡®è®¤**ï¼šç”¨æˆ·ç¡®è®¤æˆ–ä¿®æ”¹å¤§çº²
3. **å†…å®¹åˆ›å»º**ï¼šæ ¹æ®ç¡®è®¤çš„å¤§çº²åˆ›å»ºå®Œæ•´çš„ç¬”è®°æœ¬å†…å®¹
4. **Agent åˆ›å»º**ï¼šåˆ›å»º NotebookAgent å¹¶æ·»åŠ åˆ°ç³»ç»Ÿ

**æ ¸å¿ƒåŸåˆ™**ï¼šæ‰€æœ‰åˆ›å»ºéƒ½éµå¾ª `generate_outline` â†’ ç”¨æˆ·ç¡®è®¤ â†’ `create_notebook` çš„ç»Ÿä¸€æµç¨‹ã€‚

## ğŸ¯ åœºæ™¯ä¸€ï¼šä»æ–‡ä»¶åˆ›å»ºç¬”è®°æœ¬

### è§¦å‘æ–¹å¼ï¼š**By Tool** â†’ **Agent as Tool** â†’ **By Agent** â†’ **By Tool**

### è¯¦ç»†æµç¨‹

```
ç”¨æˆ·è¯·æ±‚ï¼ˆå¸¦æ–‡ä»¶ä¸Šä¼ ï¼‰
    â†“
TopLevelAgent.generate_outline (Function Tool, ä¼ å…¥ file_path)
    â†“
è°ƒç”¨ outline_maker_agent (Agent as Tool, ä¼ å…¥ file_path)
    â†“
outline_maker_agent åˆ†ææ–‡ä»¶å†…å®¹ï¼Œç”Ÿæˆå¤§çº²
    â†“
è¿”å›å¤§çº²ç»™ç”¨æˆ·ç¡®è®¤
    â†“
ç”¨æˆ·ç¡®è®¤å¤§çº²
    â†“
TopLevelAgent.send_message (Function Tool)
    â†“
å‘é€æ¶ˆæ¯ç»™ MasterAgentï¼ŒåŒ…å«ï¼š
  - action: "create_notebook"
  - outline: {...}
  - file_path: "..."
  - user_request: "..."
    â†“
MasterAgent æ¥æ”¶æ¶ˆæ¯ï¼Œè¯†åˆ« action="create_notebook"
    â†“
è°ƒç”¨ create_notebook (Function Tool)
    â†“
NotebookCreationRouter å†…éƒ¨åˆ¤æ–­æ„å›¾ï¼ˆæ ¹æ®æ–‡ä»¶å†…å®¹è‡ªåŠ¨é€‰æ‹©ç­–ç•¥ï¼‰
    â†“
é€‰æ‹©å¯¹åº”çš„åˆ›å»ºç­–ç•¥ï¼ˆfull_content/enhancement/knowledge_baseï¼‰
    â†“
ä½¿ç”¨å¯¹åº”çš„ SectionCreator åˆ›å»ºç« èŠ‚å†…å®¹
    â†“
åˆ›å»º NotebookAgent å¹¶æ·»åŠ åˆ° MasterAgent çš„å­ Agent åˆ—è¡¨
```

### å…³é”®å·¥å…·å’Œ Agent

#### 1. `generate_outline` (Function Tool)
- **ä½ç½®**ï¼š`backend/tools/function_tools/notebook_creation_tools.py`
- **è§¦å‘è€…**ï¼šTopLevelAgent
- **åŠŸèƒ½**ï¼š
  - ç›´æ¥è°ƒç”¨ `outline_maker_agent` ç”Ÿæˆå¤§çº²
  - æ”¯æŒæœ‰æ–‡ä»¶å’Œæ— æ–‡ä»¶ä¸¤ç§åœºæ™¯
  - è¿”å›æ ¼å¼åŒ–çš„ outline ä¾›ç”¨æˆ·ç¡®è®¤
- **å‚æ•°**ï¼š
  - `user_request`ï¼šç”¨æˆ·çš„è¯·æ±‚å†…å®¹ï¼ˆå¿…éœ€ï¼‰
  - `file_path`ï¼šæ–‡ä»¶è·¯å¾„ï¼ˆå¯é€‰ï¼Œæœ‰æ–‡ä»¶æ—¶æä¾›ï¼‰

#### 2. `outline_maker_agent` (Agent as Tool)
- **ä½ç½®**ï¼š`backend/tools/agent_as_tools/NotebookCreator.py`
- **åŠŸèƒ½**ï¼šæ ¹æ®æ–‡ä»¶å†…å®¹æˆ–ä¸»é¢˜æè¿°ç”Ÿæˆè¯¦ç»†çš„å­¦ä¹ å¤§çº²
- **è¾“å‡º**ï¼š`Outline` å¯¹è±¡ï¼ŒåŒ…å«ï¼š
  - `notebook_title`ï¼šç¬”è®°æœ¬æ ‡é¢˜
  - `notebook_description`ï¼šç¬”è®°æœ¬æè¿°ï¼ˆ200-300å­—ï¼‰
  - `outlines`ï¼šç« èŠ‚å­—å…¸ï¼ˆ5-6ä¸ªç« èŠ‚ï¼‰
- **ä½¿ç”¨åœºæ™¯**ï¼š
  - æœ‰æ–‡ä»¶ï¼šåˆ†ææ–‡ä»¶å†…å®¹ç”Ÿæˆå¤§çº²
  - æ— æ–‡ä»¶ï¼šæ ¹æ®ä¸»é¢˜æè¿°ç”Ÿæˆå¤§çº²

#### 3. `send_message` (Function Tool)
- **ä½ç½®**ï¼š`backend/tools/function_tools/communication_tools.py`
- **è§¦å‘è€…**ï¼šTopLevelAgent
- **åŠŸèƒ½**ï¼šå‘ MasterAgent å‘é€åˆ›å»ºç¬”è®°æœ¬çš„æ¶ˆæ¯
- **æ¶ˆæ¯æ ¼å¼**ï¼š
```json
{
  "action": "create_notebook",
  "outline": {
    "notebook_title": "...",
    "notebook_description": "...",
    "outlines": {...}
  },
  "file_path": "...",
  "user_request": "..."
}
```

#### 4. `create_notebook` (Function Tool)
- **ä½ç½®**ï¼š`backend/tools/function_tools/notebook_creation_tools.py`
- **è§¦å‘è€…**ï¼šMasterAgent
- **åŠŸèƒ½**ï¼š
  - æ¥æ”¶ç¡®è®¤çš„å¤§çº²ã€æ–‡ä»¶è·¯å¾„å’Œç”¨æˆ·è¯·æ±‚
  - ä½¿ç”¨ `NotebookCreationRouter` å†…éƒ¨åˆ¤æ–­æ„å›¾å¹¶é€‰æ‹©ç­–ç•¥
  - åˆ›å»ºæ‰€æœ‰ç« èŠ‚å†…å®¹
  - åˆ›å»º NotebookAgent å®ä¾‹å¹¶æ·»åŠ åˆ°ç³»ç»Ÿ
- **å‚æ•°**ï¼š
  - `outline`ï¼šç¡®è®¤çš„å¤§çº²å¯¹è±¡ï¼ˆJSONå­—ç¬¦ä¸²æ ¼å¼ï¼‰
  - `file_path`ï¼šæ–‡ä»¶è·¯å¾„ï¼ˆå¯é€‰ï¼‰
  - `user_request`ï¼šç”¨æˆ·çš„åŸå§‹è¯·æ±‚å†…å®¹

### ä»£ç ç¤ºä¾‹

```python
# TopLevelAgent ä½¿ç”¨ generate_outline
@function_tool
def generate_outline(user_request: str, file_path: str = None) -> str:
    """ç”Ÿæˆå­¦ä¹ å¤§çº²ä¾›ç”¨æˆ·ç¡®è®¤"""
    # 1. åˆ›å»º outline_maker_agent å·¥å…·
    registry = get_tool_registry()
    outline_tool = registry.create_tool(
        "outline_maker_agent",
        agent=top_level_agent,
        file_path=file_path  # æœ‰æ–‡ä»¶æ—¶ä¼ å…¥ï¼Œæ— æ–‡ä»¶æ—¶ä¸º None
    )
    
    # 2. è°ƒç”¨ç”Ÿæˆå¤§çº²
    outline_result = await Runner.run(
        outline_tool._agent_instance,
        "è¯·åˆ†ææ–‡æ¡£å¹¶ç”Ÿæˆå­¦ä¹ å¤§çº²ï¼ŒåŒ…æ‹¬ç¬”è®°æœ¬æè¿°ï¼ˆæè¿°åŒ…å«ä»€ä¹ˆçŸ¥è¯†ã€ä¸åŒ…å«ä»€ä¹ˆçŸ¥è¯†ã€çŸ¥è¯†è¾¹ç•Œå’Œå®šä½ï¼‰"
    )
    
    # 3. æ ¼å¼åŒ–è¿”å›ç»™ç”¨æˆ·ç¡®è®¤
    outline = outline_result.final_output
    # ... æ ¼å¼åŒ–è¾“å‡º
    return formatted_outline

# TopLevelAgent ä½¿ç”¨ send_message åˆ›å»ºç¬”è®°æœ¬
@function_tool
def send_message(id: str, message: str) -> str:
    """å‘ MasterAgent å‘é€åˆ›å»ºç¬”è®°æœ¬çš„æ¶ˆæ¯"""
    message_content = {
        "action": "create_notebook",
        "outline": outline_dict,
        "file_path": file_path,
        "user_request": user_request
    }
    # å‘é€æ¶ˆæ¯å¹¶è·å–å“åº”
    # ...
```

## ğŸ¯ åœºæ™¯äºŒï¼šä»ä¸»é¢˜åˆ›å»ºç¬”è®°æœ¬ï¼ˆä»é›¶ç”Ÿæˆï¼‰

### è§¦å‘æ–¹å¼ï¼š**By Tool** â†’ **Agent as Tool** â†’ **By Agent** â†’ **By Tool**

### è¯¦ç»†æµç¨‹

```
ç”¨æˆ·è¯·æ±‚ï¼ˆæ— æ–‡ä»¶ï¼Œåªæœ‰ä¸»é¢˜æè¿°ï¼‰
    â†“
TopLevelAgent.generate_outline (Function Tool, æ—  file_path)
    â†“
è°ƒç”¨ outline_maker_agent (Agent as Tool, æ—  file_path)
    â†“
outline_maker_agent æ ¹æ®ä¸»é¢˜æè¿°ç”Ÿæˆå¤§çº²
    â†“
è¿”å›å¤§çº²ç»™ç”¨æˆ·ç¡®è®¤
    â†“
ç”¨æˆ·ç¡®è®¤å¤§çº²
    â†“
TopLevelAgent.send_message (Function Tool)
    â†“
å‘é€æ¶ˆæ¯ç»™ MasterAgentï¼ŒåŒ…å«ï¼š
  - action: "create_notebook"
  - outline: {...}
  - file_path: null
  - user_request: "..."
    â†“
MasterAgent æ¥æ”¶æ¶ˆæ¯ï¼Œè¯†åˆ« action="create_notebook"
    â†“
è°ƒç”¨ create_notebook (Function Tool)
    â†“
NotebookCreationRouter åˆ¤æ–­ä¸º outline_first ç­–ç•¥
    â†“
ä½¿ç”¨ FromScratchSectionCreator åˆ›å»ºç« èŠ‚å†…å®¹
    â†“
åˆ›å»º NotebookAgent å¹¶æ·»åŠ åˆ° MasterAgent çš„å­ Agent åˆ—è¡¨
```

### å…³é”®å·¥å…·å’Œ Agent

ä¸åœºæ™¯ä¸€ç›¸åŒï¼ŒåŒºåˆ«åœ¨äºï¼š
- `generate_outline` è°ƒç”¨æ—¶ä¸ä¼ å…¥ `file_path`
- `outline_maker_agent` æ ¹æ®ä¸»é¢˜æè¿°ç”Ÿæˆå¤§çº²
- `NotebookCreationRouter` è‡ªåŠ¨åˆ¤æ–­ä¸º `outline_first` ç­–ç•¥

## ğŸ”„ ç« èŠ‚åˆ›å»ºç­–ç•¥

ç³»ç»Ÿæ ¹æ®æ–‡ä»¶ç±»å‹ã€æ–‡ä»¶å†…å®¹å’Œç”¨æˆ·è¯·æ±‚è‡ªåŠ¨é€‰æ‹©åˆé€‚çš„ç« èŠ‚åˆ›å»ºå™¨ï¼š

### 1. `WellFormedNoteSectionCreator`
- **é€‚ç”¨åœºæ™¯**ï¼šæ–‡ä»¶å†…å®¹ä¸°æ»¡ï¼Œç»“æ„å®Œæ•´
- **ç­–ç•¥**ï¼šç›´æ¥è§£ææ–‡ä»¶ï¼Œæå–å†…å®¹
- **è‡ªåŠ¨åˆ¤æ–­**ï¼š`NotebookCreationRouter` æ£€æµ‹åˆ°æ–‡ä»¶å†…å®¹å®Œæ•´

### 2. `PaperSectionCreator`
- **é€‚ç”¨åœºæ™¯**ï¼šè®ºæ–‡ã€æ¡ä¾‹ç­‰çŸ¥è¯†åº“ç±»å‹
- **ç­–ç•¥**ï¼šæå–å…³é”®ä¿¡æ¯ï¼Œä¸ç”Ÿæˆç»ƒä¹ é¢˜
- **è‡ªåŠ¨åˆ¤æ–­**ï¼š`NotebookCreationRouter` æ£€æµ‹åˆ°æ–‡ä»¶ç±»å‹ä¸ºè®ºæ–‡æˆ–ç”¨æˆ·æ˜ç¡®è¡¨ç¤ºä¸éœ€è¦ç»ƒä¹ é¢˜

### 3. `FromScratchSectionCreator`
- **é€‚ç”¨åœºæ™¯**ï¼šä»ä¸»é¢˜åˆ›å»ºï¼Œæ— æ–‡ä»¶
- **ç­–ç•¥**ï¼šæ ¹æ®å¤§çº²æè¿°ç”Ÿæˆå®Œæ•´å†…å®¹
- **è‡ªåŠ¨åˆ¤æ–­**ï¼š`NotebookCreationRouter` æ£€æµ‹åˆ°æ— æ–‡ä»¶è·¯å¾„

### 4. `EnhancementSectionCreator`
- **é€‚ç”¨åœºæ™¯**ï¼šæ–‡ä»¶å†…å®¹ä¸ä¸°æ»¡ï¼Œéœ€è¦å¢å¼º
- **ç­–ç•¥**ï¼šåŸºäºæ–‡ä»¶å†…å®¹ï¼Œè¡¥å……æ›´å¤šç»†èŠ‚
- **è‡ªåŠ¨åˆ¤æ–­**ï¼š`NotebookCreationRouter` æ£€æµ‹åˆ°æ–‡ä»¶å†…å®¹ç¨€ç–

### ç­–ç•¥é€‰æ‹©é€»è¾‘

`NotebookCreationRouter` å†…éƒ¨è‡ªåŠ¨åˆ¤æ–­æ„å›¾ï¼Œæ— éœ€é¢å¤–çš„ `intent_extraction_agent`ï¼š

1. **æ— æ–‡ä»¶** â†’ `outline_first` ç­–ç•¥ â†’ `FromScratchSectionCreator`
2. **æœ‰æ–‡ä»¶ + å†…å®¹ä¸°æ»¡** â†’ `full_content` ç­–ç•¥ â†’ `WellFormedNoteSectionCreator`
3. **æœ‰æ–‡ä»¶ + å†…å®¹ç¨€ç–** â†’ `enhancement` ç­–ç•¥ â†’ `EnhancementSectionCreator`
4. **æœ‰æ–‡ä»¶ + è®ºæ–‡/æ¡ä¾‹** â†’ `knowledge_base` ç­–ç•¥ â†’ `PaperSectionCreator`

## ğŸ“Š å®Œæ•´æµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç”¨æˆ·è¯·æ±‚       â”‚
â”‚ (æ–‡ä»¶/ä¸»é¢˜)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TopLevelAgent   â”‚
â”‚                 â”‚
â”‚ generate_outlineâ”‚
â”‚ (ç»Ÿä¸€å…¥å£)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ outline_maker_  â”‚
â”‚ agent           â”‚
â”‚ (Agent as Tool) â”‚
â”‚                 â”‚
â”‚ æœ‰æ–‡ä»¶ï¼šåˆ†ææ–‡ä»¶ â”‚
â”‚ æ— æ–‡ä»¶ï¼šæ ¹æ®ä¸»é¢˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¿”å›å¤§çº²ç»™ç”¨æˆ·   â”‚
â”‚ ç¡®è®¤             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TopLevelAgent   â”‚
â”‚                 â”‚
â”‚ send_message    â”‚
â”‚ (å±‚çº§é€šä¿¡)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MasterAgent     â”‚
â”‚                 â”‚
â”‚ 1. æ¥æ”¶æ¶ˆæ¯      â”‚
â”‚ 2. è¯†åˆ« action   â”‚
â”‚ 3. create_      â”‚
â”‚    notebook     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NotebookCreationâ”‚
â”‚ Router           â”‚
â”‚                 â”‚
â”‚ å†…éƒ¨åˆ¤æ–­æ„å›¾      â”‚
â”‚ é€‰æ‹©ç­–ç•¥          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SectionCreator   â”‚
â”‚ (ç­–ç•¥é€‰æ‹©)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NotebookAgent   â”‚
â”‚ (åˆ›å»ºå®Œæˆ)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”‘ å…³é”®è¦ç‚¹

1. **ç»Ÿä¸€çš„åˆ›å»ºæµç¨‹**ï¼šæ‰€æœ‰åˆ›å»ºéƒ½éµå¾ª `generate_outline` â†’ ç”¨æˆ·ç¡®è®¤ â†’ `create_notebook` çš„æµç¨‹
2. **ä¸¤ç§ generate_outline**ï¼šæœ‰æ–‡ä»¶å’Œæ— æ–‡ä»¶ä¸¤ç§åœºæ™¯ï¼Œç»Ÿä¸€ä½¿ç”¨åŒä¸€ä¸ªå·¥å…·
3. **å±‚çº§é€šä¿¡**ï¼šTopLevelAgent é€šè¿‡ `send_message` ä¸ MasterAgent é€šä¿¡ï¼Œéµå¾ªå±‚çº§æ¶æ„
4. **è‡ªåŠ¨æ„å›¾åˆ¤æ–­**ï¼š`NotebookCreationRouter` å†…éƒ¨è‡ªåŠ¨åˆ¤æ–­æ„å›¾ï¼Œæ— éœ€é¢å¤–çš„ `intent_extraction_agent`
5. **ç­–ç•¥æ¨¡å¼é€‰æ‹©åˆ›å»ºå™¨**ï¼šæ ¹æ®æ–‡ä»¶ç±»å‹ã€å†…å®¹å’Œç”¨æˆ·è¯·æ±‚è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜ç­–ç•¥
6. **ç®€åŒ–çš„å·¥å…·åˆ—è¡¨**ï¼š
   - TopLevelAgentï¼š`generate_outline`ã€`send_message`
   - MasterAgentï¼š`create_notebook`ã€`send_message`

## ğŸ› å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆéœ€è¦ä¸¤æ­¥æµç¨‹ï¼ˆç”Ÿæˆå¤§çº² â†’ ç¡®è®¤ â†’ åˆ›å»ºï¼‰ï¼Ÿ
A: éœ€è¦ç”¨æˆ·ç¡®è®¤å¤§çº²åå†ç”Ÿæˆå®Œæ•´å†…å®¹ï¼Œé¿å…ç”Ÿæˆä¸ç¬¦åˆé¢„æœŸçš„å†…å®¹ã€‚è¿™æ˜¯æ‰€æœ‰åˆ›å»ºåœºæ™¯çš„ç»Ÿä¸€æµç¨‹ã€‚

### Q: å¦‚ä½•åˆ¤æ–­ä½¿ç”¨å“ªç§åˆ›å»ºç­–ç•¥ï¼Ÿ
A: `NotebookCreationRouter` å†…éƒ¨è‡ªåŠ¨åˆ¤æ–­ï¼š
- æ— æ–‡ä»¶ â†’ `outline_first` ç­–ç•¥
- æœ‰æ–‡ä»¶ + å†…å®¹ä¸°æ»¡ â†’ `full_content` ç­–ç•¥
- æœ‰æ–‡ä»¶ + å†…å®¹ç¨€ç– â†’ `enhancement` ç­–ç•¥
- æœ‰æ–‡ä»¶ + è®ºæ–‡/æ¡ä¾‹ â†’ `knowledge_base` ç­–ç•¥

### Q: ä¸ºä»€ä¹ˆä¸ä½¿ç”¨ `intent_extraction_agent`ï¼Ÿ
A: æ„å›¾åˆ¤æ–­é€»è¾‘å·²ç§»åˆ° `NotebookCreationRouter` å†…éƒ¨ï¼Œå‡å°‘ä¸å¿…è¦çš„ Agent è°ƒç”¨ï¼Œç®€åŒ–æ¶æ„ã€‚

### Q: ä¸ºä»€ä¹ˆä½¿ç”¨ `send_message` è€Œä¸æ˜¯ç›´æ¥è°ƒç”¨å·¥å…·ï¼Ÿ
A: éµå¾ªå±‚çº§æ¶æ„è®¾è®¡åŸåˆ™ï¼ŒTopLevelAgent é€šè¿‡æ¶ˆæ¯ä¸ MasterAgent é€šä¿¡ï¼Œè€Œä¸æ˜¯ç›´æ¥æ“ä½œå…¶å†…éƒ¨å·¥å…·ã€‚

### Q: å¦‚ä½•æ·»åŠ æ–°çš„åˆ›å»ºç­–ç•¥ï¼Ÿ
A: åœ¨ `backend/agent/specialized/NotebookCreationStrategies.py` ä¸­æ·»åŠ æ–°çš„ç­–ç•¥å‡½æ•°ï¼Œå¹¶åœ¨ `NotebookCreationRouter` ä¸­æ·»åŠ åˆ¤æ–­é€»è¾‘ã€‚
